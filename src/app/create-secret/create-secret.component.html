<p-card class="containerCard" [style]="{ width: '90rem', height: 'relative', padding: '1rem' }">

  <form (ngSubmit)="onSubmit()" #secretForm="ngForm" style="display: flex; gap: 1rem;">

    <div style="flex: 5;">
      <p-floatlabel variant="on">
        <textarea
          pTextarea
          id="plaintext"
          name="plaintext"
          [(ngModel)]="plaintext"
          rows="25"
          required
          [autoResize]="true"
          style="width: 100%; height: 100%; resize: none;"
        ></textarea>
        <label for="plaintext">Secret</label>
      </p-floatlabel>
    </div>

    <div style="flex: 1;">
      <p-floatlabel variant="on">
        <p-datePicker
          inputId="calendar-24h"
          id="cal"
          name="cal"
          [minDate]="today"
          [inline]="true"
          [(ngModel)]="expiresAt"
          [showTime]="true"
          [hourFormat]="'24'"
          [style]="{ width: '100%', height: '100%' }"
        ></p-datePicker>
        <label for="cal" style="margin-top: 0.5rem; display: block;">Expiration Date and Time</label>
      </p-floatlabel>
      <p-button
        type="submit"
        label="Create Secret"
        [disabled]="!secretForm.valid"
        [style]="{ width: '100%', marginTop: '1.5rem' }"
      ></p-button>
    </div>



  </form>

  <div *ngIf="accessUrl" style="margin-top: 1rem; word-break: break-word; text-align: center;">
    <p><strong>Secret link:</strong></p>

      <a
        href="#"
        (click)="copyToClipboard(accessUrl); $event.preventDefault()"
        [pTooltip]="copied ? 'Copied!' : 'Click to copy'"
        [ngClass]="{ 'clicked-link': copied }"
        style="cursor: pointer;"
      >{{ accessUrl }}</a
      >
  </div>

</p-card>
